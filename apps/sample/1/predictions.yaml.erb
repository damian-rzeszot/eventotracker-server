<%

def speed(track)
  ((track % 5 == 0 ? 0.0 : 20.0) + (track % 5)) / 20
end

def location(track)
  50 + (track % 20) * 5
end


def tracked?(track)
  track % 4 != 0
end



%>
---
predictions:
  <% @tracks.each do |track| %>
    - track: <%= track %>
      speed: <%= speed(track) %>
      location: <%= location(track)%>
      path: test
  <% end %>

cards:
  <% @tracks.select { |track| tracked?(track) }.each do |track| %>
    - track: <%= track %>
      info: FINISHED
      left:
        title: Average Speed
        value: --.-
        unit: km/h
      right:
        title: Finish Time
        value: 03:44:08
  <% end %>
